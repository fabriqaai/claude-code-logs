---
story: 001-md-rendering
unit: 002-client-renderer
intent: 004-markdown-first-generation
priority: Must
status: planned
created: 2026-01-17T16:30:00Z
---

# Story: Client-Side Markdown Rendering

## User Story

As a user, I want sessions to render with the same visual styling as today, so that my browsing experience is unchanged despite the new Markdown-first architecture.

## Acceptance Criteria

- [ ] HTML shell template loads marked.js and highlight.js
- [ ] JavaScript fetches session MD file via fetch()
- [ ] marked.js parses MD to HTML
- [ ] highlight.js applies syntax highlighting to code blocks
- [ ] Render time < 100ms for typical session
- [ ] All existing CSS styles are preserved
- [ ] GFM features work (tables, task lists, code fences)
- [ ] Sidebar navigation continues to work

## Technical Notes

- HTML shell is generated by Go (replaces current full-HTML templates)
- Shell contains: sidebar HTML, CSS styles, JS loader code
- Content area is initially empty, populated by JS after fetch
- Use marked.js with `gfm: true` and `breaks: true` options
- Use highlight.js with auto-detection or specify languages
- Consider bundling libs or using CDN with fallback

## Dependencies

- Unit 001 must generate MD files for rendering
- marked.js library
- highlight.js library

## Estimation

Complexity: M
